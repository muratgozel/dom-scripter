"use strict";require("core-js/modules/es.array.index-of"),require("core-js/modules/es.array.map"),require("core-js/modules/es.object.keys"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.promise");function Scripter(){this.processingIds=[],this.timeoutInterval=7e3}Scripter.prototype.inject=function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=this;return new Promise(function(b,c){function d(){return clearTimeout(f),b(m.id)}if("string"==typeof m.id&&document.getElementById(m.id))return b(m.id);if("string"==typeof m.id&&-1!==a.processingIds.indexOf(m.id)){var e=new Error("Script already being injected. ("+m.id+")");return c(e)}var f=setTimeout(function(){var a=new Error("Script injection timeout. ("+l+")");return c(a)},a.timeoutInterval),g=document.createElement("script");g.type=m.type||"text/javascript",g.async=!m.hasOwnProperty("async")||m.async,"string"==typeof m.id&&(g.id=m.id),m.attrs&&Object.keys(m.attrs).map(function(b){g.setAttribute(b,m.attrs[b])}),g.addEventListener?g.addEventListener("load",d,!1):g.readyState?g.onreadystatechange=d:g.onload&&(g.onload=d),g.onerror&&(g.onerror=onErr),g.src=l;var h=document.getElementsByTagName("script");(!h||1>h.length)&&(h=document.getElementsByTagName("head"));var k=h[0];k.parentNode.insertBefore(g,k),h=null})},Scripter.prototype.injectJSONLD=function(g){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof h.id){var a=document.getElementById(h.id);a&&a.parentNode.removeChild(a)}var b=document.createElement("script");b.type="application/ld+json","string"==typeof h.id&&(b.id=h.id),h.attrs&&Object.keys(h.attrs).map(function(c){b.setAttribute(c,h.attrs[c])}),b.text="string"==typeof g?g:JSON.stringify(g);var c=document.getElementsByTagName("script");(!c||1>c.length)&&(c=document.getElementsByTagName("head"));var f=c[0];f.parentNode.insertBefore(b,f),c=null},Scripter.prototype.remove=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=document.getElementById(c.id||"");a&&a.parentNode.removeChild(a)},module.exports=new Scripter;