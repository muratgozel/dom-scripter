function Scripter(){this.processingIds=[],this.timeoutInterval=7e3}Scripter.prototype.inject=function(a,b={}){const c=this;return new Promise(function(d,e){function f(){return clearTimeout(g),d(b.id)}if("string"==typeof b.id&&document.getElementById(b.id))return d(b.id);if("string"==typeof b.id&&-1!==c.processingIds.indexOf(b.id)){const a=new Error("Script already being injected. ("+b.id+")");return e(a)}let g=setTimeout(function(){const b=new Error("Script injection timeout. ("+a+")");return e(b)},c.timeoutInterval);const h=document.createElement("script");h.type=b.type||"text/javascript",h.async=!b.hasOwnProperty("async")||b.async,"string"==typeof b.id&&(h.id=b.id),b.attrs&&Object.keys(b.attrs).map(function(a){h.setAttribute(a,b.attrs[a])}),h.addEventListener?h.addEventListener("load",f,!1):h.readyState?h.onreadystatechange=f:h.onload&&(h.onload=f),h.onerror&&(h.onerror=onErr),h.src=a;let i=document.getElementsByTagName("script");(!i||1>i.length)&&(i=document.getElementsByTagName("head"));const j=i[0];j.parentNode.insertBefore(h,j),i=null})},Scripter.prototype.injectJSONLD=function(a,b={}){if("string"==typeof b.id){const a=document.getElementById(b.id);a&&a.parentNode.removeChild(a)}const c=document.createElement("script");c.type="application/ld+json","string"==typeof b.id&&(c.id=b.id),b.attrs&&Object.keys(b.attrs).map(function(a){c.setAttribute(a,b.attrs[a])}),c.text="string"==typeof a?a:JSON.stringify(a);let d=document.getElementsByTagName("script");(!d||1>d.length)&&(d=document.getElementsByTagName("head"));const e=d[0];e.parentNode.insertBefore(c,e),d=null},Scripter.prototype.remove=function(a={}){const b=document.getElementById(a.id||"");b&&b.parentNode.removeChild(b)},module.exports=new Scripter;