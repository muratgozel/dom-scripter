function t(){this.timeout=1e4}t.prototype.reCSSExt=/(.css)/,t.prototype.supportedLocations=["bodyEnd","bodyStart","headEnd"],t.prototype.inject=function(t,e){var n=this;if(!e.id)throw new Error("Missing id for an injected script.");var r=n.reCSSExt.test(t),o=r?"link":"script";return new Promise((function(i,a){if(document.getElementById(e.id))return i(e.id);var d=setTimeout((function(){return a(new Error("TIMEOUT"))}),n.timeout),s=document.createElement(o);function c(){return r&&(s.media=e.media||"all"),clearTimeout(d),i(e.id)}s.id=e.id,"link"==o&&(s.rel="stylesheet",s.href=t,s.media="only x"),"script"==o&&(s.type=e.type||"text/javascript",s.async=!e.hasOwnProperty("async")||e.async),e.attrs&&Object.keys(e.attrs).map((function(t){return s.setAttribute(t,e.attrs[t])})),s.addEventListener?s.addEventListener("load",c,!1):s.readyState?s.onreadystatechange=c:s.onload&&(s.onload=c),s.onerror&&(s.onerror=function(t){return clearTimeout(d),a(t)}),"script"==o&&(s.src=t),n.injectToLocation(s,e.location)}))},t.prototype.injectJSONLD=function(t,e){if(e.id&&document.getElementById(e.id))return null;var n=document.createElement("script");n.type="application/ld+json",e.id&&(n.id=e.id),e.attrs&&Object.keys(e.attrs).map((function(t){return n.setAttribute(t,e.attrs[t])})),n.text="string"==typeof t?t:JSON.stringify(t),this.injectToLocation(n,e.location)},t.prototype.injectToLocation=function(t,e){var n=e||this.supportedLocations[0];if(-1!==this.supportedLocations.indexOf(n)){var r=document.getElementsByTagName("head")[0],o=document.getElementsByTagName("body")[0];"headEnd"==n?r.insertBefore(t,null):"bodyEnd"==n?o.insertBefore(t,null):"bodyStart"==n&&o.insertBefore(t,o.firstChild)}},t.prototype.remove=function(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)};var e=new t;export default e;
